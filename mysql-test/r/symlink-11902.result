call mtr.add_suppression("File.*t1.* not found");
create table mysql.t1 (a int, b char(16));
insert mysql.t1 values (100, 'test');
create table t1 (a int, b char(16))
data directory="MYSQLTEST_VARDIR/tmp/foo";
insert t1 values (200, 'some');
select * from t1;
a	b
200	some
flush tables;
set debug_sync='mi_open_datafile WAIT_FOR go';
select * from t1;
set debug_sync='now SIGNAL go';
ERROR HY000: File 'MYSQLTEST_VARDIR/tmp/foo/t1.MYD' not found (Errcode: 20)
flush tables;
drop table if exists mysql.t1, t1;
Warnings:
Warning	2	Can't find file: 't1' (errno: 2)
set debug_sync='RESET';
